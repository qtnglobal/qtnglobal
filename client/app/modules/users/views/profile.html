

<div class="box">
    <div class="l-content clearfix">
		<div class="indash_blog" style="min-height: 306px; background-color: rgb(250, 250, 250);">
			<div class="header">
			    <div class="indash_header_wrapper  has_info tumblelog_name_solidblackdn" style="background-color:#FAFAFA; color:#444444">
				<div class="navigation">
					<div class="navigation_bg has_image" style="height: 117px; opacity: 0.848; background-color: rgb(250, 250, 250);">
						<canvas class="sticky_header_image" style="transform: translate3d(0px, -37px, 0px); width: 585px; height: 329px">
  					</canvas>
          </div>
					<div class="navigation_inner">
            <div class="hide1">
              <h3>
                <a href="http://solidblackdn.tumblr.com" class="blog_name" target="_blank">
                  <span class="name">{{user_name}}</span>
                  <span class="full_url">{{user_name}}.tumblr.com</span>
                </a>
              </h3>
              <div class="peepr-blog-search" style="width: 397px">
                <form class="blog-search-form">
                  <div class="search-filters" data-subview="filters">
                  <i class="icon_filter show-filter-popover nav_icon"></i>
                  </div>
                  <i class="icon_arrow_thin_left clear-search nav_icon"></i>
                  <i class="icon_search toggle-search nav_icon" ng-click="clickSearch()"></i>
                  <div class="search-input" data-subview="input">
                    <input type="text" class="blog-search-input" placeholder="Search {{user_name}}">
                  </div>
                </form>
              </div>
              <div class="header_controls">
                <a class="open_blog_button nav_icon icon_export"></a>
                <button class="chrome big customize_button" type="button" ng-click="changeImages()" data-url="/settings/blog/{{user_name}}">Edit appearance</button>
              </div>
            </div>
            <div class="hide2">
              <h3>Edit appearance</h3>
              <button class="chrome big black cancel_button" ng-click="changeImages()" type="button">Cancel</button>
              <button class="chrome big save_button" data-error="Woops :(" data-error-confirm="Ok" type="button" disabled="disabled">
                <span class="label">Save</span></button>
              <button class="edit_header_image edit_button">
                <label><i class="icon icon_edit_pencil"></i><input class="coverImage" type="file" /></label></button>
            </div>
					</div>
				</div>
				<div class="header_image_wrapper has_avatar" style="height: 329.0625px">
					<div class="header_image" style="height: 329.0625px; transform: translate3d(0px, 16px, 0px);">
						<a hre="http://solidblackdn.tumblr.com" target="_blank">
							<img id="coverImage" src="../images/cover_default.png" alt="cover_image">
						</a>
					</div>
				</div>
				<div class="avatar square show1" style="color: rgb(250, 250, 250); text-align: center; background-color: rgb(250, 250, 250);">
					<a href="http://solidblackdn.tumblr.com" target="_blank">
						<img id="avatarImage" src="../images/avatar_default.png" target="_blank" alt="avatar_image">
          </a>
          <div class="header_dropzone customize_overlay">
            <input id="tumblelog_avatar_url" data-filetype-ok="I am sorry" data-filetype-error="That's not even an image..." data-filesize-ok="Fine" data-filesize-error="That's too big!<br />Try making it 10 MB or less." class="customize_overlay" name="photo" type="file" accept="image/*"></div>
          <button class="edit_avatar edit_button" title="Edit avatar options" type="button"><label><i class="icon icon_edit_pencil"><input class="avatarImage" type="file"/></i></label></button>
          <div class="indash_header_popover">
            <div class="popover popover_gradient nipple_on_left" style="display: none; top: 0px; left: 0px;">
              <div class="avatar_popover popover_inner"><ul class="popover_options">
                <li>
                  <a class="choose_photo">
                    <i class="icon icon_view_grid_settings">
                    </i>Choose a photo</a>
                </li>
                <li>
                  <label class="binary_switch right"><input name="tumblelog_show_avatar" id="tumblelog_show_avatar" type="checkbox" checked>
                    <span class="binary_switch_track"></span>
                    <span class="binary_switch_button"></span></label>
                  <label for="tumblelog_show_avatar">Show avatar</label>
                </li>
                <li class="avatar_shape_options">
                  <div class="styles right">
                    <a class="avatar_shape square selected" data-value="square"></a>
                    <a class="avatar_shape circle" data-value="circle"></a></div>
                  <label>Shape</label>
                </li>
              </ul>
              </div>
            </div>
          </div>
				</div>

				<div class="info_wrapper">
					<div class="info">
						<h1 class="title" style="font-family:'Gibson', sans-serif; font-weight:bold;">Untitled</h1>
					</div>
				</div>
          </div>
			</div>
		</div>
    </div>
    <div class="box-header">
        <h3 class="box-title" translate>
            Your profile
        </h3>
    </div>
    <div class="box-body">

        <div class="row">
            <div class="col-md-8">
                <formly-form result="user" fields="formFields" options="formOptions" ng-submit="onSubmit()"></formly-form>
            </div>
            <div class="col-md-4">

                <div class="box box-solid bg-light-blue">
                    <div class="box-header">
                        <h3 class="box-title" >
                            {{ 'Your Gravatar' | translate }}
                            <small><a href="http://gravatar.com" translate>Change it here!</a></small>
                        </h3>
                    </div>
                    <div class="box-body">
                        <div class="text-center">
                            <img gravatar-src="user.email" class="img-circle" alt="User Image" gravatar-size="150">
                        </div>
                    </div>
                    <div class="box-header">&nbsp;</div>
                </div>
            </div>
        </div>
    </div>
    <div class="box-footer">
        <div class="controls">
            <button class="btn btn-primary btn-success" ng-click="onSubmit()" translate>Update profile</button>
        </div>
    </div>
    <div ng-if="loading" class="overlay"></div>
    //<div ng-if="loading" class="loading-img"></div>-->
</div>
<div class="abc"></div>
<script>
  $(function(){
    $(".coverImage").change(function () {
      if (this.files && this.files[0]) {
        var reader = new FileReader();
        reader.onload = imageIsLoaded2;
        reader.readAsDataURL(this.files[0]);
      }
    });
    $(".avatarImage").change(function () {
      if (this.files && this.files[0]) {
        var reader = new FileReader();
        reader.onload = imageIsLoaded1;
        reader.readAsDataURL(this.files[0]);
      }
    })
  });
  function imageIsLoaded1(e) {
    $('#avatarImage').attr('src', e.target.result);
  };

  function imageIsLoaded2(e) {
    $('#coverImage').attr('src', e.target.result);
  };
</script>
